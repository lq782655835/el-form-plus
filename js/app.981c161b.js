(function(e){function t(t){for(var r,a,i=t[0],u=t[1],s=t[2],p=0,f=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(l,a)&&l[a]&&f.push(l[a][0]),l[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==l[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},l={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/el-form-plus/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2af9":function(e,t,n){"use strict";(function(e){var r=n("6480");function l(e){l.installed||(l.installed=!0,e.component("el-form-plus",r["a"]))}var o=null;"undefined"!==typeof window?o=window.Vue:"undefined"!==typeof e&&(o=e.vue),console.log(o,123),o&&o.use({install:l}),r["a"].install=l,t["a"]=r["a"]}).call(this,n("c8ba"))},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-form-plus",{attrs:{refObj:e.formConfig.ref,formModel:e.form,fieldList:e.formConfig.fieldList,size:"small"},on:{"update:refObj":function(t){return e.$set(e.formConfig,"ref",t)},"update:ref-obj":function(t){return e.$set(e.formConfig,"ref",t)}},scopedSlots:e._u([{key:"item-ssh",fn:function(){return[n("el-switch",{attrs:{"active-text":"开启","inactive-text":"不开启"},model:{value:e.form["ssh"],callback:function(t){e.$set(e.form,"ssh",t)},expression:"form['ssh']"}}),n("el-link",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("去上传ssh公钥")])]},proxy:!0}])},[e._v("\n    /** * 支持自定义form-item内容 *\n    把组件当作参数，传递给el-form-plus组件进行渲染 */\n    ")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submit}},[e._v("确定")]),n("div",[e._v("\n    "+e._s("\n    formConfig() {\n    return {\n        ref: null,\n        fieldList: [\n            {\n                label: '项目名称',\n                value: 'name',\n                type: 'input',\n                disabled: !this.isAddPage,\n                placeholder: '支持格式：小写字母、数字以及-,首位必须是字母',\n                required: true,\n                pattern: /^[a-z]([-a-z0-9]*[a-z0-9])?$/g,\n                autofocus: true\n            },\n            {\n                label: '项目部门',\n                value: 'department',\n                type: 'input',\n                disabled: true,\n                required: true\n            },\n            {\n                  label: '镜像地址',\n                  value: 'customImageCheck',\n                  type: 'radio-group',\n                  options: [\n                      { label: '平台镜像', value: false },\n                      { label: '自定义', value: true }\n                  ],\n                  required: true\n            },\n            {\n                label: '',\n                value: 'customImage',\n                type: 'input',\n                className: 'depend-item',\n                placeholder: '请输入自定义镜像',\n                hidden: !this.form.customImageCheck,\n                required: this.form.customImageCheck\n            },\n            {\n                  label: '',\n                  value: 'image',\n                  type: 'select',\n                  options: ['docker1', 'docker2'].map(str => ({label: str, value: str})),\n                  className: 'depend-item',\n                  placeholder: '请选择平台镜像',\n                  hidden: this.form.customImageCheck,\n                  required: !this.form.customImageCheck\n              },\n            {\n                label: 'SSH服务',\n                value: 'ssh',\n                type: 'slot',\n                required: true,\n                tooltip:\n                    '在上传机器的ssh公钥并开启Notebook的ssh服务后，可以使用该机器远程终端访问该Notebook'\n            }\n        ]\n    }\n  }\n    ")+"\n  ")])],1)},o=[],a=(n("96cf"),n("3b8d")),i={name:"app",data:function(){return{form:{name:"",department:"yanxuan",manager:"",customImageCheck:!1,ssh:!1}}},computed:{isAddPage:function(){return!0},formConfig:function(){return{ref:null,fieldList:[{label:"项目名称",value:"name",type:"input",disabled:!this.isAddPage,placeholder:"支持格式：小写字母、数字以及-,首位必须是字母",required:!0,pattern:/^[a-z]([-a-z0-9]*[a-z0-9])?$/g,autofocus:!0},{label:"项目部门",value:"department",type:"input",disabled:!0,required:!0},{label:"镜像地址",value:"customImageCheck",type:"radio-group",options:[{label:"平台镜像",value:!1},{label:"自定义",value:!0}],required:!0},{label:"",value:"customImage",type:"input",className:"depend-item",placeholder:"请输入自定义镜像",hidden:!this.form.customImageCheck,required:this.form.customImageCheck},{label:"",value:"image",type:"select",options:["docker1","docker2"].map((function(e){return{label:e,value:e}})),className:"depend-item",placeholder:"请选择平台镜像",hidden:this.form.customImageCheck,required:!this.form.customImageCheck},{label:"SSH服务",value:"ssh",type:"slot",required:!0,tooltip:"在上传机器的ssh公钥并开启Notebook的ssh服务后，可以使用该机器远程终端访问该Notebook"}]}}},methods:{submit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.formConfig.ref.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=i,s=n("2877"),c=Object(s["a"])(u,l,o,!1,null,null,null),p=c.exports,f=n("5c96"),d=n.n(f),m=(n("0fae"),n("2af9"));r["default"].use(d.a),r["default"].use(m["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(p)}}).$mount("#app")},6480:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",e._b({ref:"form",staticClass:"el-form-plus",attrs:{model:e.formModel,rules:e.formRules,"label-width":e.labelWidth,"label-position":e.labelPosition,"validate-on-rule-change":!1}},"el-form",e.$attrs,!1),e._l(e.fieldList,(function(t,r){return n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!item.hidden"}],key:r,class:t.className,attrs:{prop:t.value,label:t.label},scopedSlots:e._u([t.tooltip?{key:"label",fn:function(){return[e._v("\n      "+e._s(t.label)),n("u-el-tooltip",{attrs:{content:t.tooltip}})]},proxy:!0}:null],null,!0)},["slot"===t.type?[e._t("item-"+t.value)]:e._e(),"input"===t.type||"password"===t.type?n("el-input",{staticClass:"u-el-input",attrs:{type:t.type,disabled:t.disabled,placeholder:e.getPlaceholder(t),autofocus:t.autofocus},model:{value:e.formModel[t.value],callback:function(n){e.$set(e.formModel,t.value,n)},expression:"formModel[item.value]"}}):e._e(),"textarea"===t.type?n("el-input",{staticClass:"u-el-input",attrs:{type:t.type,disabled:t.disabled,placeholder:e.getPlaceholder(t),autosize:t.autosize||{minRows:2,maxRows:10},autofocus:t.autofocus},model:{value:e.formModel[t.value],callback:function(n){e.$set(e.formModel,t.value,"string"===typeof n?n.trim():n)},expression:"formModel[item.value]"}}):e._e(),"inputNumber"===t.type?n("u-el-input-number",{attrs:{min:t.min,max:t.max,step:t.step||1,suffix:t.suffix},on:{change:function(n){return e.handleClick(t.event)}},model:{value:e.formModel[t.value],callback:function(n){e.$set(e.formModel,t.value,n)},expression:"formModel[item.value]"}}):e._e(),"select"===t.type?n("u-el-select",{attrs:{options:t.options,disabled:t.disabled,clearable:t.clearable,filterable:t.filterable,placeholder:e.getPlaceholder(t)},on:{change:function(n){return e.handleClick(t.event,e.formModel[t.value])}},model:{value:e.formModel[t.value],callback:function(n){e.$set(e.formModel,t.value,n)},expression:"formModel[item.value]"}}):e._e(),"radio-group"===t.type?n("u-el-radio-group",{attrs:{options:t.options,disabled:t.disabled},on:{change:function(n){return e.handleClick(t.event,e.formModel[t.value])}},model:{value:e.formModel[t.value],callback:function(n){e.$set(e.formModel,t.value,n)},expression:"formModel[item.value]"}}):e._e(),"date"===t.type?n("el-date-picker",{attrs:{type:t.dateType,"picker-options":t.TimePickerOptions,clearable:t.clearable,disabled:t.disabled,placeholder:e.getPlaceholder(t)},on:{focus:function(n){return e.handleClick(t.event)}},model:{value:e.formModel[t.value],callback:function(n){e.$set(e.formModel,t.value,n)},expression:"formModel[item.value]"}}):e._e()],2)})),1)},l=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"u-el-input-number"},[n("el-input-number",e._g(e._b({attrs:{min:e.min},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}},"el-input-number",e.$attrs,!1),e.$listeners)),e._v("\n  "+e._s(e.suffix)+"\n")],1)},i=[],u=(n("c5f6"),{name:"u-el-input-number",props:{value:Number,suffix:String,min:{type:Number,default:0}},data:function(){return{}},computed:{num:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}),s=u,c=n("2877"),p=Object(c["a"])(s,a,i,!1,null,null,null),f=p.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-radio-group",e._g(e._b({model:{value:e.svalue,callback:function(t){e.svalue=t},expression:"svalue"}},"el-radio-group",e.$attrs,!1),e.$listeners),e._l(e.items,(function(t){return n("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),1)},m=[],b=n("7618");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={name:"u-el-select",props:{value:String,options:[Array,Object]},data:function(){return{svalue:this.value,items:[]}},watch:{selected:function(e){this.$emit("input",e)},value:function(e){this.svalue=e}},mounted:function(){var e=this,t=this.options;if(t&&"object"===Object(b["a"])(t)){var n=function(e,t){var n=t.label,r=t.value;return e.map((function(e){return"object"===Object(b["a"])(e)?h({},e,{label:e[n],value:e[r]}):"string"===typeof e?{label:e,value:e}:void 0}))};if(Array.isArray(this.options))this.items=this.options;else{var r=this.options,l=r.api,o=r.fileType,a=void 0===o?{label:"label",value:"value"}:o;"function"===typeof l&&l().then((function(t){e.items=n(t,a),e.$emit("api-load",t)}))}}}},g=y,O=Object(c["a"])(g,d,m,!1,null,null,null),j=O.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._g(e._b({staticClass:"u-el-select",scopedSlots:e._u([e.newRow?{key:"empty",fn:function(){return[n("li",{staticClass:"el-select-dropdown__item"},[n("u-link",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.$emit("add-new-row")}}},[e._v("\n        "+e._s(e.newRow)+"\n      ")])],1)]},proxy:!0}:null],null,!0),model:{value:e.svalue,callback:function(t){e.svalue=t},expression:"svalue"}},"el-select",e.$attrs,!1),e.$listeners),[e._l(e.items,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e.newRow?n("li",{staticClass:"el-select-dropdown__item"},[n("u-link",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.$emit("add-new-row")}}},[e._v("\n      "+e._s(e.newRow)+"\n    ")])],1):e._e()],2)},_=[];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={name:"u-el-select",props:{value:String,options:[Array,Object],newRow:String},data:function(){return{svalue:this.value,items:[]}},watch:{selected:function(e){this.$emit("input",e)},value:function(e){this.svalue=e},options:function(e){this.getSelectOptions()}},mounted:function(){this.getSelectOptions()},methods:{getSelectOptions:function(){var e=this,t=this.options;if(t&&"object"===Object(b["a"])(t)){var n=function(e,t){var n=t.label,r=t.value;return e.map((function(e){return"object"===Object(b["a"])(e)?x({},e,{label:e[n],value:e[r]}):"string"===typeof e?{label:e,value:e}:void 0}))};if(Array.isArray(this.options))this.items=this.options;else{var r=this.options,l=r.api,o=r.fileType,a=void 0===o?{label:"label",value:"value"}:o;"function"===typeof l&&l().then((function(t){e.items=n(t,a),e.$emit("api-load",t)}))}}}}},$=P,C=Object(c["a"])($,w,_,!1,null,null,null),S=C.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tooltip",e._g(e._b({staticClass:"u-el-tooltip",attrs:{content:e.content,placement:e.placement}},"el-tooltip",e.$attrs,!1),e.$listeners),[e._t("default",[n("i",{staticClass:"el-icon-question"})])],2)},q=[],E={name:"u-el-tooltip",props:{content:String,placement:{type:String,default:"top"}}},I=E,N=Object(c["a"])(I,M,q,!1,null,null,null),D=N.exports;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={name:"el-form-plus",components:{UElInputNumber:f,UElRadioGroup:j,UElSelect:S,UElTooltip:D},props:{refObj:{type:Object},formModel:{type:Object,default:function(){return{}}},fieldList:{type:Array},rules:{type:Object,default:function(){return{}}},labelWidth:{type:String,default:"100px"},labelPosition:{tyep:String,default:"left"}},computed:{formRules:function(){if(!this.fieldList||0===this.fieldList.length)return this.rules;var e=this.fieldList.filter((function(e){var t=e.required,n=e.pattern,r=e.validator;return t||n||r})).reduce((function(e,t){var n=t.label,r=t.value,l=t.type,o=t.required,a=t.pattern,i=t.validator,u="blur";if(e[r]=[],o){var s="select"===l?"请选择".concat(n):"请输入".concat(n);e[r].push({required:o,message:s,trigger:u})}return a&&e[r].push({pattern:a,message:"请输入有效".concat(n),trigger:u}),i&&e[r].push({validator:i,trigger:u}),e}),{});return z({},e,{},this.rules)}},watch:{formModel:{handler:function(){this.$emit("update:refObj",this.$refs.form)},deep:!0}},mounted:function(){this.$emit("update:refObj",this.$refs.form)},methods:{getPlaceholder:function(e){var t=e.type,n=e.label,r=e.placeholder;return r||(r="input"===t||"textarea"===t?"请输入"+n:"select"===t||"time"===t||"date"===t?"请选择"+n:n,r)},handleClick:function(e,t){e&&this.$emit("handleClick",{event:e,data:t})}}},L=A,T=Object(c["a"])(L,r,l,!1,null,null,null);t["a"]=T.exports}});
//# sourceMappingURL=app.981c161b.js.map